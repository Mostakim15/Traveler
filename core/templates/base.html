{% load i18n %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
  <meta charset="UTF-8">
  <title>Travel Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] min-h-screen flex flex-col text-white font-sans">

  <!-- Navbar -->
  <nav class="bg-[#0f172a]/80 backdrop-blur-md shadow-lg sticky top-0 z-30 border-b border-[#94cef2]/40">
    <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
      <a href="{% url 'home' %}" class="font-extrabold text-2xl text-[#94cef2] tracking-tight flex items-center gap-2 hover:scale-110 hover:text-white transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-[#94cef2]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7m-9 2v8m4-8v8m5 0a2 2 0 002-2V7a2 2 0 00-2-2h-3.5a2 2 0 00-2 2v1" />
        </svg>
  {% trans "Travel Guide" %}
      </a>

      <form action="{% url 'set_language' %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.path }}">
        <select name="language" onchange="this.form.submit()" class="text-black rounded px-2 py-1">
          <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>{% trans "English" %}</option>
          <option value="bn" {% if LANGUAGE_CODE == 'bn' %}selected{% endif %}>{% trans "বাংলা" %}</option>
          <option value="hi" {% if LANGUAGE_CODE == 'hi' %}selected{% endif %}>{% trans "हिन्दी" %}</option>
        </select>
      </form>

      <div class="flex items-center gap-4">
        {% if user.is_authenticated %}
          <a href="{% url 'add_destination' %}" class="bg-[#94cef2] text-[#0f172a] hover:bg-[#60a5fa] px-4 py-2 rounded-xl shadow-md font-semibold transition transform hover:scale-110">{% trans "+ Add Destination" %}</a>
          <span class="text-[#94cef2] font-medium hidden sm:inline">{% blocktrans %}Welcome, {{ user.username }}{% endblocktrans %}</span>
          <a href="{% url 'logout' %}" class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 px-4 py-2 rounded-xl shadow-md font-semibold transition transform hover:scale-110">{% trans "Logout" %}</a>
        {% else %}
          <a href="{% url 'login' %}" class="bg-[#94cef2] text-[#0f172a] hover:bg-[#60a5fa] px-4 py-2 rounded-xl shadow-md font-semibold transition transform hover:scale-110">{% trans "Login" %}</a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Messages -->
  {% if messages %}
    <div class="fixed top-20 right-6 z-40 w-80 max-w-full">
      {% for message in messages %}
        <div class="flex items-center gap-2 p-4 mb-3 rounded-xl shadow-xl animate-fade-in-up
          {% if message.tags == 'success' %} bg-emerald-600/90 backdrop-blur text-white
          {% elif message.tags == 'error' %} bg-red-600/90 backdrop-blur text-white
          {% else %} bg-[#94cef2]/90 text-[#0f172a] font-semibold {% endif %}">
          <span class="font-semibold">{{ message }}</span>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Content -->
  <main class="flex-grow p-6 md:p-10 max-w-7xl mx-auto w-full">
    <div class="bg-[#1e293b]/70 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-[#94cef2]/40 hover:border-[#94cef2]/70 transition">
      {% block content %}{% endblock %}
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-[#0f172a]/90 backdrop-blur text-[#94cef2] text-center py-8 mt-10 shadow-inner border-t border-[#94cef2]/40">
    <div class="flex flex-col md:flex-row items-center justify-center gap-4">
  <span class="font-semibold tracking-wide">© 2025 {% trans "Travel Guide" %}</span>
      <span class="hidden md:inline text-[#94cef2]/70">|</span>
  <span class="text-sm text-[#94cef2]/80">{% trans "All rights reserved." %}</span>
    </div>
  <div class="mt-3 text-xs text-[#94cef2]/70">{% trans "Made with" %} <span class="text-pink-400 animate-pulse">♥</span> {% trans "for explorers" %}</div>
  </footer>

  <!-- Animations -->
  <style>
    @keyframes fade-in-up {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up {
      animation: fade-in-up 0.5s cubic-bezier(0.4,0,0.2,1) both;
    }
  </style>

</body>
</html>
